---
title: "Meteoric Fall: a comet-ment to data"
subtitle: "Proposal"
author: 
  - name: "**Viz Wizards**: Nick Ferrante, Jeremiah Gaiser, Tanya Evita George,<br> Mrunal Jadhav, Jasdeep Singh Jhajj, Gillian McGinnis, Agastya Deshraju"
    affiliations:
      - name: "School of Information, University of Arizona"
description: "Developing a Shiny app to explore and analyze meteorite landings data, unraveling patterns and insights into meteor impact distribution and historical events"
format:
  html:
    code-tools: true
    code-overflow: wrap
    code-line-numbers: true
    embed-resources: true
editor: visual
code-annotations: hover
execute:
  warning: false
  message: false
code-fold: true
---

```{r load-pkgs}
#| label: load-pkgs
#| message: false
#| echo: false
#| code-summary: "Install Packages"

if (!require("pacman")) 
  install.packages("pacman")

# Loading the packages
pacman::p_load(tidyverse,
               kableExtra,
               DT) 
```

## Project Goal

The Goal of the Project is to make use of Shiny app on the Meteorite Landings dataset to create an interactive platform that allows users to explore and analyze meteorite landings data through dynamic visualizations.

## Introduction

The proposed project aims to create an interactive platform using Shiny app to explore and analyze meteorite landings data. This platform will allow users to delve into the data through dynamic visualizations, enhancing their understanding of meteorite landings on Earth. The project seeks to answer key questions about the distribution of meteor impacts across the earth, the continents with the most accumulated total mass of meteors, and the relationship between historical events and the observations and discoveries of meteors. By analyzing this data, we hope to explain the reasons behind certain historical events and predict the most vulnerable places for future meteorite crashes. Such insights could significantly contribute to scientific research in fields such as astrology, data analysis, and geology.

## Dataset

```{r load-dataset}
#| label: load-dataset
#| code-summary: "Load the Meteorite Landings data"

# Loading the data
meteorite_data <- read.csv("data/Meteorite_Landings.csv")

metadata_meteorite <- tibble(
  Column = names(meteorite_data),
  DataType = sapply(meteorite_data, class),
  SampleData = sapply(meteorite_data, function(column) {
    first_non_na <- column[!is.na(column)][1]
    if (is.numeric(first_non_na)) {
      return(format(first_non_na, nsmall = 2))
    } else {
      return(as.character(first_non_na))
    }
  })
)
```

## Dataset Description and Motivation

The data set `Meteorite_Landings.csv`, which will be used for this project has been sourced from [NASA's Open Data Portal](https://data.nasa.gov/Space-Science/Meteorite-Landings/gh4g-9sfh/about_data). It contains the complete set of information of all known meteorite landings on Earth. The dimensions of the data set include 10 variables total which consist of 6 numerical and 4 categorical variables, across `r nrow(meteorite_data)` observations. The reason why this data set was chosen was because of the opportunity to scientifically explore all the factors that go into studying how and why meteorites land on specific parts of the Earth. Using this data set, the project could explain the reasons behind certain historical events and predict the most vulnerable places for meteorite crashes which could help in their scientific study and research in fields such as astrology, data analysis and geology.

### Metadata

The data includes 10 variables- 6 numerical and 4 categorical. The metadata is shown down below, with a sample of the individual variable as well. The descriptions of what each variable represents is shown as well.

```{r dataset-explore}
#| label: dataset-explore
#| code-summary: "Exploration of Dataset"

metadata_meteorite %>%
  kable("html") %>%
  kable_styling(bootstrap_options = c("striped", "hover"), full_width = F) %>%
  column_spec(1, bold = T)

```

**Description of the metadata**

-   **name**: The name of the meteorite (usually the location of the meteorite landing)
-   **id**: The unique identifier number assigned to the meteorite.
-   **nametype**: Can be one of two different categories:
    -   *valid*: A regular meteorite.
    -   *relict*: A meteorite that has been degraded over the years due to weather.
-   **recclass**: The recommended class of the meteorite; that is classified based on certain characteristics of the meteorite such as, chemical, isotopic, and mineralogical properties.
-   **mass(g)**: The mass of the meteorite, given in grams.
-   **fall**: Can be one of two different categories:
    -   *fell*: Classified as fell when the fall of the meteorite is observed.
    -   *found*: Classified as found when the fall of the meteorite is not observed, but the meteorite was found later.
-   **reclat**: The latitude of the meteorite's landing.
-   **reclong**: The longitude of the meteorite's landing.
-   **GeoLocation**: Combination of the latitude and longitude of the meteorite's landing.

## Questions

**Question 1**- What does the distribution of meteor impacts look like across the earth?

-   Which continents have accumulated the most total mass of meteors?

**Question 2**- How do historical events relate to the observations and discoveries of meteors?

**Question 3**- What trends may be observed in frequency, type, or location of meteors, and can they be related to known celestial events?

Meteor crashes may be unpredictable, but they are not simply random events. Meteors are often determined to be the stray ejecta of debris from other celestial bodies. Therefore, we expect trends in observed meteor falls to correspond to notable celestial events, such as earth's passing by different celestial bodies, including comets, planets, and the moon.

Therefore, we are interested in identifying statistically significant trends in the meteor data and attributing these data to specific events in time and space. For example, clusters of small but frequent meteor crashes may be observed during regular meteor-shower events like the Lyrids, which is a consequence of earth's passing through the debris trail of the Comet Thatcher. 

Integrating this information with meteor impact visualizations will offer our audience a  rich model of earth's place in the solar system, and its myriad interactions with other celestial bodies.

## Analysis plan

### Approach for Question 1

To display the distribution of meteor impacts on earth we are going to implement an interactive leaflet map allowing the user to navigate and explore specific regions of the world and the meteors in those regions. We will use the `reclat` and `reclong` variables as the latitude and longitude to plot the locations of these meteors.

### Approach for Question 2

To answer the question of which continents have accumulated the most total mass of meteors, we will use the `mass..g.` variable along with the frequency of meteor observations in each continent to determine the total mass to then create a density map displaying these densities for each continent.

### Approach for Question 3

To answer the question, "How do historical events relate to the observations and discoveries of meteors?", we are going to create a line graph of the amount of meteor observations per year and add annotations representing major historical events, thus allowing for the analysis of the frequency of meteor observations and their related historical events. The main variables here will be the `year` variable along with an external reference to historical events.

## Timeline - Weekly Plan of Attack

```{r timeline}
#| label: timeline
#| code-summary: "Project Timeline"
#| echo: false

# Create the df for timeline tasks
task_data <- data.frame(
  Task_Name = c("Idea brainstorm and Data exploration", 
                "Introduction and Goals description", 
                "Dataset Description and Motivation", 
                "Research Q1 and Analysis Plan", 
                "Research Q2 and Analysis Plan", 
                "Timeline and workflow", 
                "Repository organization", 
                "Peer Review1", 
                "Peer Review2",
                "Data cleaning/wrangling",
                "Shiny app Setup",
                "Plot Creation for Q1",
                "Plot Creation for Q2",
                "Writeup content for index",
                "Presentation Writeup",
                "Add Plot 1 to presentation",
                "Add Plot 2 to presentation"),
  Status = c("Done", "Done", "Done", "Ongoing",
             "Ongoing", "Done", "Done",
             "-", "-", "-", "-", "-", "-", "-", "-", "-", "-"),
  Assignee = c("Everyone",
               "Mrunal",
               "Agastya / Tanya",
               "Nick / Jeremiah", 
               "Nick / Jeremiah",
               "Jasdeep",
               "Gillian",
               "Everyone",
               "Everyone", "-",
               "Gillian",
               "Agastya / Jasdeep", "-", "-", "-", "-", "-"),
  Due = c("04/03/24", "04/03/24", "04/03/24", "04/03/24",
          "04/03/24", "04/03/24", "04/03/24", "04/08/24",
          "04/08/24", "04/15/24", "04/16/24", "04/18/24",
          "04/20/24", "04/23/24", "04/30/24", "05/02/24",
          "05/04/24"),
  Priority = c("High", "High", "Medium", "High",
               "High", "Medium", "Medium", "High",
               "High", "Medium", "Medium", "High",
               "High", "Medium", "Medium", "High", "High"),
  Summary = c("Look for project Ideas along with relevant Dataset", 
              "Explain Goals of the Project", 
              "Describe variables and columns in dataset", 
              "Analyze and frame Q1 & Plan for Implementation", 
              "Analyze and frame Q2 & Plan for Implementation", 
              "Create Plan of Attack template", 
              "Explain the Repository structure", 
              "-", "-", "-", "-", "-", "-", "-", "-", "-", "-")
)

# Add headers for major checkpoints during Project
task_data <- rbind(c("Proposal", "", "", "", "", ""),
                   task_data[1:7, ],
                   c("Peer Review", "", "", "", "", ""),
                   task_data[8:9, ],
                   c("Write-Up", "", "", "", "", ""),
                   task_data[10:14, ],
                   c("Presentation", "", "", "", "", ""),
                   task_data[15:nrow(task_data), ])

# Display table
datatable(task_data, 
          options = list(dom = 't', paging = FALSE),
          rownames = FALSE,
          colnames = c('Task Name', 'Status', 'Assignee',
                       'Due', 'Priority', 'Summary'),
          class = 'display nowrap compact',
          escape = FALSE)
```

## Repository organization

-   Main/root: All relevant Quarto markdown code, YAML settings, and folders.
    -   `.gitignore`: List of files or file types to not track via version control.
    -   `README.md`: Brief project description, viewable for the [repository landing page](https://github.com/INFO-526-S24/project-final-VizWizards).
    -   `*.qmd`: Quarto markdown files for the publication of the GitHub website, including the main landing page to contain the final report (`index.qmd`), the project proposal (`proposal.qmd`), a list of project members (`about.qmd`), and the slidedeck for the final presentation (`presentation.qmd`).
-   `/data` folder:
    -   `Meteorite_Landings.csv`: Raw data file
    -   `README.md`: Data dictionary for meteors.csv
-   `/images` folder: Any images to be added for the presentation.qmd or GitHub website.
-   `/shiny` folder:
    -   `app.R`: All R code for both the Shiny UI and server. To be independent from the main folder to allow for publication on a separate Shiny server.
    -   `README.md`: Description of the folder
-   Other:
    -   `/.github` folder: For automated workflows.
    -   `/_extra` folder: For any drafting work or notes not to be included in the final project.
    -   `/freeze` folder: Automatically-generated GitHub website publication code.
